<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 2</title>
</head>
<body>

<h3>CMPS-3360 Assignment 2</h3>
<span>Alan Braeley & Carolina Hurtado-Pulido</span>

<br/>
<hr/>
<br/>

<br/>

<script src="scores.js" charset="utf-8"></script>
<script src="https://d3js.org/d3.v4.js"></script> 

<!-- Rectangles hard-coded below are placeholders.  Remove. -->

<div id="D3Scatter1">	 
    <h2>1. Reproduce Scatter Plot in D3</h2>
    <svg id="D3ScatterSVG" width="800" height="400" viewbox="0 0 1000 1000">
    </svg>
    <script>
        var svg = d3.select("svg")
        svg.append("rect").attr("x", "50").attr("y", "10").attr("width", "850").attr("height", "850").attr("fill", "white").attr("stroke", "black").attr("stroke-width", "1 px");
        svg.append("text").attr("x", "-40").attr("y", "450").attr("font-size", "2em").text("SATV");
        svg.append("text").attr("x", "450").attr("y", "900").attr("font-size", "2em").text("SATM");

        for(i=0; i< scores.length; i++) {
          if (scores[i].GPA >= 3.0) {
            var col ='green'
          }
          else if (scores[i].GPA < 3.0 && scores[i].GPA >= 2.0) {
            var col ='yellow'
          }
          else {
            var col ='red'
          }
          svg.append("circle").attr("cx", scores[i].SATM).attr("cy", scores[i].SATV).attr("r", scores[i].ACT).style("fill", col).style("stroke", "black");

        }

</script>
		 
</div>

<div id="D3Scatter2">
    <h2>2-4. Color</h2>
    <div>
        <h3>2a - Continuously interpolated (linear) color for the GPA values</h3>
        <svg id="scatter2a" width="1000" height="1000">
            <rect x="50" y="50" width="900" height="900" style="fill:white; stroke:black; stroke-width:1px"/>
            <text x="500" y="990">SATM</text>
            <text x="30" y="35">SATV</text>
            <text x="70" y="85">GPA - Point color (Green are large values, Red are small values) </text>
        </svg>
        <script>
            //var SATM1=scores.map(({SATM})=>SATM);
			//var SATV1=scores.map(({SATV})=>SATV);
			//var ACT1=scores.map(({ACT})=>ACT);
			//var GPA1=scores.map(({GPA})=>GPA);
            console.log(d3.min(scores, d =>d.GPA))
            console.log(d3.max(scores, d =>d.GPA))
            //https://observablehq.com/@d3/d3-extent 
            var colorLinear=d3.scaleLinear().domain([d3.min(scores, d =>d.GPA), 0, d3.max(scores, d => d.GPA)]).range(["darkred", "lightgray", "steelblue"])

            var scatter=d3.select("#scatter2a");
            scatter.selectAll("circle")
                    .data(scores)
                    .enter()
                    .append("circle")
                    .attr("cx", function(d, i){
                        return scores[i].SATM;
                    })
                    .attr("cy", function(d, i){
                        return 1000-(scores[i].SATV)+50;
                    })
                    .attr("r", function(d, i){
                        return scores[i].ACT/2.5;
                    })
                    .style("fill", function(d){
                        return colorLinear(d);
                    })
        </script>


    </div>
    


    <svg id="2b" width="300" height="200">
       <rect x="0" y="0" width="300" height="200" style="fill:white; stroke:black; stroke-width:1px"/>
    </svg>
    <svg id="2c" width="300" height="200">
       <rect x="0" y="0" width="300" height="200" style="fill:white; stroke:black; stroke-width:1px"/>
    </svg>
</div>

</body>
</html>