<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 2</title>
</head>
<body>

<h3>CMPS-3360 Assignment 2</h3>
<span>Alan Braeley & Carolina Hurtado-Pulido</span>

<br/>
<hr/>
<br/>

<br/>

<script src="scores.js" charset="utf-8"></script>
<script src="https://d3js.org/d3.v4.js"></script> 

<!-- Rectangles hard-coded below are placeholders.  Remove. -->

<div id="D3Scatter1">	 
    <h2>1. Reproduce Scatter Plot in D3</h2>
    <svg id="D3ScatterSVG" width="800" height="400" viewbox="0 0 1000 1000">
    </svg>
    <script>
        var svg = d3.select("svg")
        svg.append("rect").attr("x", "50").attr("y", "10").attr("width", "850").attr("height", "850").attr("fill", "white").attr("stroke", "black").attr("stroke-width", "1 px");
        svg.append("text").attr("x", "-40").attr("y", "450").attr("font-size", "2em").text("SATV");
        svg.append("text").attr("x", "450").attr("y", "900").attr("font-size", "2em").text("SATM");

        for(i=0; i< scores.length; i++) {
          if (scores[i].GPA >= 3.0) {
            var col ='green'
          }
          else if (scores[i].GPA < 3.0 && scores[i].GPA >= 2.0) {
            var col ='yellow'
          }
          else {
            var col ='red'
          }
          svg.append("circle").attr("cx", scores[i].SATM).attr("cy", scores[i].SATV).attr("r", scores[i].ACT).style("fill", col).style("stroke", "black");

        }

</script>
		 
</div>

<div id="D3Scatter2">
    <h2>2. Color</h2>
    <div>
        <h3>2a - Continuously interpolated (linear) color for the GPA values</h3>
        <svg id="scatter2a" width="1000" height="1000">
            <rect x="50" y="50" width="900" height="900" style="fill:white; stroke:black; stroke-width:1px"/>
            <text x="500" y="990">SATM</text>
            <text x="30" y="35">SATV</text>
            <text x="70" y="85">GPA - Point color (Green are large values, Red are small values) </text>
        </svg>
        <script>
                
            var minGPA=d3.min(scores, d =>d.GPA);
            var maxGPA=d3.max(scores, d =>d.GPA);
            var axis=[];
            for (i=1; i<10; i++){
              axis[i-1]=i*100;
            }
            var colorLinear=d3.scaleLinear().domain([minGPA, maxGPA]).range(["red", "green"]);
            
            var scatter=d3.select("#scatter2a");
            //Scatter circles
            scatter.selectAll("circle")
                    .data(scores)
                    .enter()
                    .append("circle")
                    .attr("cx", d=>d.SATM)
                    .attr("cy", d=> 1000-(d.SATV)+50)
                    .attr("r", d=>d.ACT/2.5)
                    .style("fill", d=>colorLinear(d.GPA))
                    .style("stroke", "#bcbcbc");
            
            //X-axis
            scatter.selectAll(null)
                    .data(axis)
                    .enter()
                    .append("text") 
                    .attr("x", d=>d)
                    .attr("y", 970) //Fix y
                    .text(d=>d);
            //Y-Axis
            scatter.selectAll(null)
                    .data(axis)
                    .enter()
                    .append("text") 
                    .attr("x", 20) //Fix x
                    .attr("y", d=>1000-d) 
                    .text(d=>d);
        </script>
    </div>

    <div>
      <h3>2b - Create a continuous color scale that uses three of the colors from the GnBu-5 for the GPA values</h3>
      <svg id="scatter2b" width="1000" height="1000">
        <rect x="50" y="50" width="900" height="900" style="fill:white; stroke:black; stroke-width:1px"/>
        <text x="500" y="990">SATM</text>
        <text x="30" y="35">SATV</text>
        <text x="70" y="85">GPA - Point color (Ligh colors are smaller values) </text>
     </svg>
      <script>
          var colorLinear3=d3.scaleLinear().domain([minGPA,(minGPA+maxGPA)/2 ,maxGPA]).range(["#f0f9e8", "#7bccc4", "#0868ac"]);
          
          var scatterb=d3.select("#scatter2b");
          //Scatter circles
          scatterb.selectAll("circle")
                    .data(scores)
                    .enter()
                    .append("circle")
                    .attr("cx", d=>d.SATM)
                    .attr("cy", d=> 1000-(d.SATV)+50)
                    .attr("r", d=>d.ACT/2.5)
                    .style("fill", d=>colorLinear3(d.GPA)) // I was doing this line like for 3 hours!!!
                    .style("stroke", "#bcbcbc");
          
          //X-axis
          scatterb.selectAll(null)
                  .data(axis)
                  .enter()
                  .append("text") 
                  .attr("x", d=>d)
                  .attr("y", 970) //Fix y
                  .text(d=>d);
          //Y-Axis
          scatterb.selectAll(null)
                  .data(axis)
                  .enter()
                  .append("text") 
                  .attr("x", 20) //Fix x
                  .attr("y", d=>1000-d) 
                  .text(d=>d);
      </script>
    </div>

    <div>
      <h3>2c - Create a quantized color scale that uses all five colors of GnBu-5 for the GPA values</h3>
      <svg id="scatter2c" width="1000" height="1000">
        <rect x="50" y="50" width="900" height="900" style="fill:white; stroke:black; stroke-width:1px"/>
        <text x="500" y="990">SATM</text>
        <text x="30" y="35">SATV</text>
        <text x="70" y="85">GPA - Point color (Ligh colors are smaller values, 5 bins) </text>
     </svg>

      <script>
          var colorQuantize=d3.scaleQuantize().domain([minGPA, maxGPA]).range(["#f0f9e8", "#bae4bc", "#7bccc4", "#43a2ca", "#0868ac"]);
          
          var scatterc=d3.select("#scatter2c");
          //Scatter circles
          scatterc.selectAll("circle")
                    .data(scores)
                    .enter()
                    .append("circle")
                    .attr("cx", d=>d.SATM)
                    .attr("cy", d=> 1000-(d.SATV)+50)
                    .attr("r", d=>d.ACT/2.5)
                    .style("fill", d=>colorQuantize(d.GPA)) // I was doing this line like for 3 hours!!!
                    .style("stroke", "#bcbcbc");
          
          //X-axis
          scatterc.selectAll(null)
                  .data(axis)
                  .enter()
                  .append("text") 
                  .attr("x", d=>d)
                  .attr("y", 970) //Fix y
                  .text(d=>d);
          //Y-Axis
          scatterc.selectAll(null)
                  .data(axis)
                  .enter()
                  .append("text") 
                  .attr("x", 20) //Fix x
                  .attr("y", d=>1000-d) 
                  .text(d=>d);
      </script>
    </div>
</div>

<div>
  <h2>3. Color</h2>
  <div>

  </div>
</div>

<div>
  <h2>4. Transitions</h2>
  <div>
    <h3>4a -  Create 3 buttons to change between the three color schemes for the dots above </h3>
    <div id="d4a">
      <svg id="DynamicScatters" width="1000" height="1000">
          <rect x="50" y="50" width="900" height="900" style="fill:white; stroke:black; stroke-width:1px"/>
          <text x="500" y="990">SATM</text>
          <text x="30" y="35">SATV</text>
      </svg>
      <div></div>

      <script>
        var Basic=d3.select("#DynamicScatters");
        Basic.selectAll(null)
              .data(scores)
              .enter()
              .append("circle")
              .attr("cx", d=>d.SATM)
              .attr("cy", d=> 1000-(d.SATV)+50)
              .attr("r", d=>d.ACT/2.5)
              .style("stroke", "#bcbcbc");
            
        //X-axis
        Basic.selectAll(null)
              .data(axis)
              .enter()
              .append("text") 
              .attr("x", d=>d)
              .attr("y", 970) //Fix y
              .text(d=>d);
            //Y-Axis
        Basic.selectAll(null)
              .data(axis)
              .enter()
              .append("text") 
              .attr("x", 20) //Fix x
              .attr("y", d=>1000-d) 
              .text(d=>d);

        //Buttons
        var GreenRedScheme=function(){
          Basic.selectAll("circle").transition().duration(400).style("fill", d=>colorLinear(d.GPA));
        }
        var BlueLinear=function(){
          Basic.selectAll("circle").transition().duration(400).style("fill", d=>colorLinear3(d.GPA));
        }
        var BlueQuantize=function(){
          Basic.selectAll("circle").transition().duration(400).style("fill", d=>colorQuantize(d.GPA));
        }

        var button1=d3.select("#d4a").append("button");
        button1.text("First scheme");
        button1.on("click", GreenRedScheme);

        var button2=d3.select("#d4a").append("button");
        button2.text("Second scheme");
        button2.on("click", BlueLinear);

        var button3=d3.select("#d4a").append("button");
        button3.text("Third scheme");
        button3.on("click", BlueQuantize);
      </script>
    </div>
  </div>

  <div>
    <h3>4b - Create a 4th button that changes the horizontal (X) axis to be the cumulative SAT score (SATM+SATV). </h3>
    <div>
      
    </div>
  </div>

</div>

</body>
</html>